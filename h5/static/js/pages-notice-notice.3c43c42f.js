(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-notice-notice"],{"011b":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("ac6a");var i={data:function(){return{currentPage:1,total:0,everpagenumber:2,datas:[],checkedIds:[],checkAllBtnTxt:"全选"}},onLoad:function(){this.getData()},methods:{addNotice:function(){uni.redirectTo({url:"./add"})},pageChange:function(t){this.currentPage=t,this.getData()},getData:function(){var e=this;uni.showLoading({}),t.callFunction({name:"getNoticeList",data:{page:this.currentPage,everpagenumber:this.everpagenumber}}).then(function(t){uni.hideLoading(),console.log(t),e.total=t.result[0].total,e.datas=t.result[1].data;var n=[];e.datas.forEach(function(t,e){n.push({index:e,checkstatus:!1})}),e.checkedIds=n})},gotoEdit:function(t){uni.navigateTo({url:"./editNotice?id="+t})},deleteData:function(e){var n=this;uni.showModal({title:"确认要删除数据吗?",success:function(i){i.confirm&&(uni.showLoading({}),t.callFunction({name:"deleteNotice",data:{id:e}}).then(function(t){console.log(t),uni.hideLoading(),"ok"==t.result.status&&(uni.showToast({title:"数据已经删除"}),n.getData())}))}})},changeStatus:function(t){this.checkedIds.splice(t[1][0],1,{index:t[1][0],checkstatus:t[0]});for(var e=!0,n=0;n<this.checkedIds.length;n++)if(!this.checkedIds[n].checkstatus){e=!1;break}this.checkAllBtnTxt=e?"反选":"全选"},seleclAll:function(){var t=this;"全选"==this.checkAllBtnTxt?(this.checkedIds.forEach(function(e,n){t.changeStatus([!0,[n]])}),this.checkAllBtnTxt="反选"):(this.checkedIds.forEach(function(e,n){t.changeStatus([!1,[n]])}),this.checkAllBtnTxt="全选")},removeMore:function(){for(var e=this,n=[],i=0;i<this.checkedIds.length;i++)this.checkedIds[i].checkstatus&&n.push(this.datas[this.checkedIds[i].index]._id);n.length<1?uni.showToast({title:"您没有选择任何数据",icon:"none"}):uni.showModal({title:"确认要删除数据吗?",success:function(i){i.confirm&&(uni.showLoading({}),t.callFunction({name:"deleteNotice",data:{id:n}}).then(function(t){console.log(t),uni.hideLoading(),"ok"==t.result.status&&(uni.showToast({title:"数据已经删除"}),e.getData())}))}})}}};e.default=i}).call(this,n("a9ff")["default"])},"07b4":function(t,e,n){"use strict";n.r(e);var i=n("5519"),a=n("7ab2");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("72df");var c,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"5766b5e0",null,!1,i["a"],c);e["default"]=u.exports},"0ed2":function(t,e,n){"use strict";n.r(e);var i=n("842a"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"18c1":function(t,e,n){var i=n("f5b5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("0573aa08",i,!0,{sourceMap:!1,shadowMode:!1})},"289e":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"gui-pager"},[n("v-uni-view",{staticClass:"pager-info"},[t._v("共 "+t._s(t.total)+" 条")]),n("v-uni-view",{staticClass:"pager-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pageChange(1)}}},[t._v("首页")]),t.showPrevMore?n("v-uni-view",{staticClass:"pager-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pageChange(t.currentPage-1)}}},[t._v("上一页")]):t._e(),t._l(t.pagers,function(e,i){return n("v-uni-view",{key:i,class:["pager-item",e==t.currentPage?"pager-current":""],on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.pageChange(e)}}},[t._v(t._s(e))])}),t.showNextMore?n("v-uni-view",{staticClass:"pager-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pageChange(t.currentPage+1)}}},[t._v("下一页")]):t._e(),n("v-uni-view",{staticClass:"pager-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pageChange(t.totalPage)}}},[t._v("尾页")])],2)},o=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},"35a6":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".gui-header[data-v-bb2f6104]{background-color:#23262e;height:58px;width:100%;position:fixed;left:0;top:0;z-index:9}.gui-header-line[data-v-bb2f6104]{width:100%;height:58px}.gui-header .logo[data-v-bb2f6104]{font-size:22px;color:#63b77a;width:200px;line-height:58px;font-style:italic;font-weight:700;text-indent:20px;-webkit-flex-shrink:0;flex-shrink:0}.gui-header .nav[data-v-bb2f6104]{width:100%}.gui-header .gui-current[data-v-bb2f6104]{border-color:#63b77a!important;font-weight:700}.gui-header .nav .item[data-v-bb2f6104]{padding:0 25px;margin-right:10px;line-height:55px;border-bottom:3px solid #23262e;font-size:16px;color:#fff;float:left;cursor:pointer}.gui-left-menu[data-v-bb2f6104]{width:200px;top:58px;bottom:0;height:100%;left:0;background-color:#393d49;position:fixed;z-index:9;overflow-y:scroll}.gui-left-menu div[data-v-bb2f6104]{line-height:50px;font-size:15px;color:#fff;padding-left:30px;cursor:pointer}.gui-left-menu .gui-current[data-v-bb2f6104]{background:#5fb878!important;color:#fff}.gui-user-menu[data-v-bb2f6104]{background-color:#393d49;width:130px;position:fixed;right:0;top:58px;z-index:9;padding:10px}.gui-user-menu div[data-v-bb2f6104]{line-height:50px;text-align:center;font-size:15px;color:#fff;cursor:pointer}",""])},3989:function(t,e,n){"use strict";var i=n("9c03"),a=n.n(i);a.a},"3cf1":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'.grace-check-btn[data-v-5766b5e0]{color:#999;cursor:pointer;padding-top:4px}.grace-check-btn[data-v-5766b5e0]:after{content:"\\E71F"}.grace-check-checked[data-v-5766b5e0]:after{content:"\\E720"}.grace-check-lable[data-v-5766b5e0]{color:#555;margin-left:10px;font-size:%?14?%;width:100%;cursor:pointer}',""])},"3e95":function(t,e,n){"use strict";n.r(e);var i=n("e7fd"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},5519:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"gui-nowrap gui-flex-vcenter",style:{width:t.width},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.changeStatus.apply(void 0,arguments)}}},[n("v-uni-view",{class:["grace-check-btn gui-icons",t.status?"grace-check-checked":""],style:{fontSize:t.size+"px",lineHeight:t.size+"px",color:t.status?t.checkedColor:t.color}}),n("v-uni-view",{staticClass:"grace-check-lable"},[t._t("default")],2)],1)},o=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},"64ab":function(t,e,n){"use strict";n.r(e);var i=n("289e"),a=n("0ed2");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("714e");var c,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"1ca458c0",null,!1,i["a"],c);e["default"]=u.exports},"714e":function(t,e,n){"use strict";var i=n("18c1"),a=n.n(i);a.a},"72df":function(t,e,n){"use strict";var i=n("94d0"),a=n.n(i);a.a},"7ab2":function(t,e,n){"use strict";n.r(e);var i=n("919b"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},8114:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"gui-header gui-nowrap gui-space-between"},[n("div",{staticClass:"logo"},[t._v("graceAdmin")]),n("div",{staticClass:"nav"},[t._l(t.menusMain,function(e,i){return n("div",{key:i,class:["item",t.currentIndexMain==i?"gui-current":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.menu(i)}}},[t._v(t._s(e))])}),n("a",{staticClass:"item",attrs:{href:"http://grace.hcoder.net/graceadmin/info/810-0.html",target:"_blank"}},[t._v("开发手册")]),n("a",{staticClass:"item",attrs:{href:"https://uniapp.dcloud.io/uniCloud/README",target:"_blank"}},[t._v("uniCloud 手册")]),n("div",{staticClass:"item gui-icons icon-user gui-fr",staticStyle:{padding:"0 30px"},on:{mouseover:function(e){arguments[0]=e=t.$handleEvent(e),t.accountmouseover.apply(void 0,arguments)}}},[t._v(t._s(t.guiloacluname))])],2)]),n("div",{staticClass:"gui-header-line"}),n("div",{staticClass:"gui-left-menu"},t._l(t.sonMenusShow[t.currentIndexMain],function(e,i){return n("div",{key:i,class:t.currentSon==i?"gui-current":"",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goto(e[0])}}},[t._v(t._s(e[1]))])}),0),n("div",[t._t("gui-body")],2),t.accountMenuShow?n("div",{staticClass:"gui-user-menu",on:{mouseenter:function(e){arguments[0]=e=t.$handleEvent(e),t.accountmenuover.apply(void 0,arguments)},mouseleave:function(e){arguments[0]=e=t.$handleEvent(e),t.accountmenuout.apply(void 0,arguments)}}},[n("div",{staticClass:"gui-icons icon-key",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changpwd.apply(void 0,arguments)}}},[t._v("修改密码")]),n("div",{staticClass:"gui-icons icon-logoff",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.logoff.apply(void 0,arguments)}}},[t._v("退出系统")])]):t._e()])},o=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},"842a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var i={props:{total:{type:Number,default:10},everpagenumber:{type:Number,default:10},currentPage:{type:Number,default:1},perPages:{type:Number,default:5}},data:function(){return{totalPage:1,showPrevMore:!1,showNextMore:!1,pagers:[]}},created:function(){this.totalPage=Math.ceil(this.total/this.everpagenumber),this.createPages()},methods:{createPages:function(){var t=new Array,e=(this.perPages-1)/2,n={start:this.currentPage-e,end:this.currentPage+e};n.start<1&&(n.end=n.end+(1-n.start),n.start=1),n.end>this.totalPage&&(n.start=n.start-(n.end-this.totalPage),n.end=this.totalPage),n.start<1&&(n.start=1),this.showPrevMore=n.start>1,this.showNextMore=n.end<this.totalPage;for(var i=n.start;i<=n.end;i++)t.push(i);this.pagers=t},pageChange:function(t){this.$emit("pageChange",t)}},watch:{currentPage:function(t,e){this.createPages()},total:function(t,e){this.createPages()}}};e.default=i},"919b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var i={props:{width:{type:String,default:"100%"},size:{type:Number,default:18},color:{type:String,default:"#EEEEEE"},checked:{type:Boolean,default:!1},checkedColor:{type:String,default:"#3688FF"},parameter:{type:Array,default:function(){return[]}}},data:function(){return{status:!1}},watch:{checked:function(t,e){this.status=t}},created:function(){this.status=this.checked},methods:{changeStatus:function(){this.status=!this.status,this.$emit("change",[this.status,this.parameter])}}};e.default=i},"94d0":function(t,e,n){var i=n("3cf1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("5307170e",i,!0,{sourceMap:!1,shadowMode:!1})},"9c03":function(t,e,n){var i=n("35a6");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("cb98e0c0",i,!0,{sourceMap:!1,shadowMode:!1})},e4bc:function(t,e,n){"use strict";n.r(e);var i=n("8114"),a=n("3e95");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("3989");var c,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"bb2f6104",null,!1,i["a"],c);e["default"]=u.exports},e7fd:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("f499"));Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1};var o={props:{currents:{type:Array,default:function(){return[0,0]}}},created:function(){this.menusBackUp=[this.menusMain,this.sonMenus];try{var t=uni.getStorageSync("guiloacluid");if(this.guiloacluname=uni.getStorageSync("guiloacluname"),!t)return void uni.redirectTo({url:"../login/login"});this.sonMenusShow=(0,a.default)(this.sonMenus),this.sonMenusShow=JSON.parse(this.sonMenusShow);var e=uni.getStorageSync("guiloaclurole");e=JSON.parse(e);for(var n=0;n<this.sonMenusShow.length;n++)if(e[n].length<1)this.sonMenusShow.splice(n,1,[]);else{for(var i=[],o=0;o<this.sonMenusShow[n].length;o++)-1!=e[n].indexOf(this.sonMenusShow[n][o][0])&&i.push(this.sonMenusShow[n][o]);this.sonMenusShow.splice(n,1,i)}this.currentIndexMain=this.currents[0];for(var c=[],r=0;r<this.sonMenusShow[this.currents[0]].length;r++)c.push(this.sonMenusShow[this.currents[0]][r][0]);var u=c.indexOf(this.currents[1]);this.currentSon=u,-1==this.currentSon&&uni.redirectTo({url:"../stop/stop"})}catch(s){}},data:function(){return{currentIndexMain:0,currentSon:0,menusMain:["系统信息","内容管理"],sonMenus:[[["index","系统首页"],["role","角色管理"],["managers","管理员列表"],["pageNotice","页面说明"],["orther","其他功能"],["checkupdate","检查更新"]],[["notice","公告管理"],["form","表单演示"]]],sonMenusShow:[],menusBackUp:[],guiloacluname:"",accountMenuShow:!1,accountMenuTimer:null}},methods:{goto:function(t){uni.navigateTo({url:"../../pages/"+t+"/"+t})},menu:function(t){this.currentIndexMain=t,this.currentSon=t<1?0:-1},changpwd:function(t){uni.navigateTo({url:"../../pages/changePwd/changePwd"})},logoff:function(){try{uni.removeStorageSync("guiloacluid"),uni.redirectTo({url:"../login/login"})}catch(t){}},accountmouseover:function(){var t=this;this.accountMenuShow=!0,this.accountMenuTimer=setTimeout(function(){t.accountMenuShow=!1},1e3)},accountmenuover:function(){clearTimeout(this.accountMenuTimer)},accountmenuout:function(){this.accountMenuShow=!1},getMenus:function(){return this.menusBackUp}}};e.default=o},f06c:function(t,e,n){"use strict";var i={"gui-page":n("e4bc").default,"gui-checker":n("07b4").default,"gui-pager":n("64ab").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("gui-page",{attrs:{currents:[1,"notice"]}},[n("div",{attrs:{slot:"gui-body"},slot:"gui-body"},[n("div",{staticClass:"gui-body-title"},[t._v("公告管理"),n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addNotice.apply(void 0,arguments)}}},[t._v("+ 添加公告")])],1),n("div",{staticClass:"gui-body"},[n("div",{staticClass:"gui-tips"},[t._v("为了演示分页效果我们每页只展示"+t._s(t.everpagenumber)+"条数据，实际开发请根据项目需求自行设置 (:")]),n("table",{staticClass:"gui-table",staticStyle:{"margin-top":"20px"},attrs:{cellpadding:"0",cellspacing:"0"}},[n("thead",[n("tr",[n("td",{attrs:{width:"60",align:"center"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.seleclAll.apply(void 0,arguments)}}},[t._v(t._s(t.checkAllBtnTxt))]),n("td",[t._v("公告内容")]),n("td",[t._v("发布时间")]),n("td",[n("v-uni-text",{staticClass:"gui-icons icon-remove",staticStyle:{cursor:"pointer"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.removeMore.apply(void 0,arguments)}}},[t._v("批量删除")])],1)])]),n("tbody",t._l(t.datas,function(e,i){return n("tr",{key:i},[n("td",{attrs:{align:"center"}},[n("gui-checker",{attrs:{checked:t.checkedIds[i].checkstatus,parameter:[i]},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeStatus.apply(void 0,arguments)}}})],1),n("td",[t._v(t._s(e.content))]),n("td",[t._v(t._s(e.date))]),n("td",[n("v-uni-text",{staticClass:"gui-do-btns gui-icons icon-edit",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.gotoEdit(e._id)}}},[t._v("编辑")]),n("v-uni-text",{staticClass:"gui-do-btns gui-icons icon-remove",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.deleteData(e._id)}}},[t._v("删除")])],1)])}),0)]),n("div",[t.total>1?n("gui-pager",{attrs:{total:t.total,everpagenumber:t.everpagenumber,currentPage:t.currentPage},on:{pageChange:function(e){arguments[0]=e=t.$handleEvent(e),t.pageChange.apply(void 0,arguments)}}}):t._e()],1)])])])],1)},o=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},f203:function(t,e,n){"use strict";n.r(e);var i=n("f06c"),a=n("fcbc");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);var c,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"617408e1",null,!1,i["a"],c);e["default"]=u.exports},f5b5:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".gui-pager[data-v-1ca458c0]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:20px}.pager-item[data-v-1ca458c0]{font-size:15px;line-height:30px;padding:1px 10px;cursor:pointer;text-align:center;margin:5px;min-width:32px;box-sizing:border-box;color:grey;background:#f1f1f1;border-radius:2px}.pager-current[data-v-1ca458c0]{background:#3688ff!important;color:#fff}.pager-info[data-v-1ca458c0]{padding:0 20px;font-size:14px;color:#888}",""])},fcbc:function(t,e,n){"use strict";n.r(e);var i=n("011b"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a}}]);